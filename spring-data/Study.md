JDBC 등장 이유

애플리케이션을 개발할 때 중요한 데이터는 대부분 데이터베이스에 보관

애플리케이션 서버 <------> MySQL DB
1. Connection 연결 (TCP/IP)
2. 애플리케이션 서버는 DB가 이해할 수 있는 SQL을 연결된 커넥션을 통해 DB에 전달
3. DB는 전달된 SQL을 수행하고 그 결과를 응답.

옛날에는 각각 데이터베이스 마다 1, 2, 3의 방법이 모두 달랐음.

문제점
1. 데이터베이스를 다른 종류의 데이터베이스로 변경하면 개발된 코드가 싹 바뀌어야 함.
2. 개발자가 각각 데이터베이스마다 다른 방법을 알아야 함.

JDBC 표준 인터페이스

Java Database Connectivity 는 자바에서 데이터베이스ㄹ에 접속할 수 있도록 하는 자바 API. JDBC는 데이터베이스에서 데이터를 쿼리하거나 업데이트하는 방법을 제공.

애플리케이션 -------------> JDBC 표준 인터페이스

MySQL 드라이버, Oracle 드라이버 -----------> JDBC 표준 인터페이스


이 JDBC 인터페이스를 각각의 DB 벤더(회사)에서 본인들의 DB에 맞도록 구현해서 라이브러리로 제공하는데, 이것을 JDBC 드라이버라 한다.

* 하지만 데이터베이스마다 SQL이 조금씩 다르기 때문에 SQL은 어쩔 수 없이 조금씩 변형해야 함.

SQL Mapper vs ORM
SQL Mappper는 SQL만 작성할 줄 알면 금방 배워서 사용할 수 있다.
ORM은 SQL을 작성하지 않아도 되어서 개발 생산성이 매우 높아진다. 반면에 깊이 있는 학습이 필요.
근데 이 두 기술 모두 내부적으로는 JDBC를 활용함.

JDBC는 자바 개발자라면 꼭 알아두어야 하는 필수 기본 기술.

커넥션 풀

애플리케이션을 시작하는 시점에 커넥션 풀은 필요한 만큼 커넥션을 미리 확보해서 풀에 보관한다. 보통 얼마나 보관할지는 서비스의 특징과 서버 스펙에 따라 다르지만 보통 10개이다.

커넥션 풀에 들어있는 커넥션은 TCP/IP로 DB와 커넥션이 연결되어 있는 상태이기 때문에 언제든지 즉시 SQL을 DB에 전달할 수 있다.
많은 커넥션 풀 오픈소스중에 spring boot 2.0부터는 hikariCP를 기본 커넥션 풀로 선택

Datasource
커넥션을 얻는 방법은 JDBC DriverManager를 사용하거나, 커넥션 풀을 사용하거나

그러나 커넥션을 기존에는 DriverManager를 통해 획득하고 있었는데 커넥션 풀로 전환하거나, 혹은 다른 커넥션 풀로 이관할때에 코드를 변경하기 싫다.
이때 표준 인터페이스 (커넥션을 획득하는 방법을 추상화)를 DataSource.

